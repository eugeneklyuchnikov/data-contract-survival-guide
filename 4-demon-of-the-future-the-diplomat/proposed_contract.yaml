data_contract_version: 0.9.3
id: gamification-events
info:
  title: Gamification Events
  version: 1.0.0
  description: |
    Records events generated by the user gamification system, such as earning badges or leveling up. 
    This data is critical for the product team to track user engagement and feature adoption.
servers:
  production:
    type: s3
    uri: s3://company-datalake/gamification-events-prod/
terms:
  owner: TBD
  tier: silver
  sla: TBD
  support:
    channel: "#data-gamification-support"
  schema_evolution:
    backward_compatible: true
quality:
  type: soda-cl
  specification: |
    checks for gamification_events:
      - missing_count(user_id) = 0:
          error_when: "> 0"
      - row_count > 0:
          warn: when < 1
schema:
  type: json
  fields:
    - name: user_id
      type: string
      required: true
      description: The unique identifier for the user who triggered the event. Must not be null or empty.
    - name: event_timestamp
      type: string
      format: date-time
      required: true
      description: The ISO 8601 UTC timestamp indicating the exact moment the event occurred.
    - name: event_type
      type: string
      required: true
      description: A string identifying the type of gamification event (e.g., 'badge_earned', 'level_up').
    - name: metadata
      type: object
      required: true
      description: A flexible object containing data specific to the event_type. Its structure varies.
      fields:
        - name: badge_name
          type: string
          required: false
          description: The name of the badge earned. Present when event_type is 'badge_earned'.
        - name: level
          type: integer
          required: false
          description: The user's level when the badge was earned. Present for 'badge_earned' events.
        - name: points_awarded
          type: integer
          required: false
          description: The number of points awarded for the badge. Present for 'badge_earned' events.
        - name: previous_level
          type: integer
          required: false
          description: The user's level before leveling up. Present for 'level_up' events.
        - name: new_level
          type: integer
          required: false
          description: The user's new level after the event. Present for 'level_up' events.