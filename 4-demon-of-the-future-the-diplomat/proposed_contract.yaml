data_contract_version: 0.9.3
id: urn:gamification:events:v1
info:
  title: Gamification Events
  description: A stream of events generated by the user gamification system, tracking achievements like earning badges and leveling up. Used for user engagement analysis and dashboards.
  version: 1.0.0
governance:
  tier: silver
  owner: TBD
  support:
    channel: '#data-gamification-support'
  sla: TBD
schema_evolution:
  backward_compatible: true
schema:
  namespace: com.acme.gamification
  name: GamificationEvent
  type: record
  fields:
    - name: user_id
      type: string
      required: true
      description: The unique identifier for the user who triggered the event.
    - name: event_timestamp
      type: string
      format: date-time
      required: true
      description: ISO 8601 timestamp indicating when the event occurred (in UTC).
    - name: event_type
      type: string
      required: true
      description: The type of gamification event that occurred (e.g., 'badge_earned', 'level_up').
    - name: metadata
      type: object
      required: true
      description: A flexible object containing event-specific details and attributes. The contents will vary based on the event_type.
quality:
  type: soda-cl
  specification: |
    checks for GamificationEvents:
      - invalid_rows:
          fail: when user_id is null or user_id = ''
          name: "user_id must be a non-empty string"
      - invalid_rows:
          fail: when event_timestamp is null
          name: "event_timestamp is required"
      - invalid_rows:
          fail: when event_type NOT IN ('badge_earned', 'level_up', 'quest_completed')
          name: "event_type must be a known value"